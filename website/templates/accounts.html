{% extends "base.html" %}

{% block title %}Accounts{% endblock %}

{% block content %}
<h1 align="center">Accounts</h1>

<!-- Accounts Table -->
<table class="table" id="accountsTable">
  <thead>
    <tr>
      <th>Account Name</th>
      <th>Balance</th>
    </tr>
  </thead>
  <tbody>
    {% for account in user.accounts %}
    <tr>
      <td>{{ account.name }}</td>
      <td>{{ account.balance }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<!-- Button to trigger modal -->
<div align="center">
  <button class="btn btn-primary" onclick="document.getElementById('accountModal').showModal()">Add Account</button>
</div>

<!-- Modal -->
<dialog id="accountModal">
  <h3>Add Account</h3>
  <form method="POST" action="/accounts">
    <div class="form-group">
      <label for="name">Account Name</label>
      <input type="text" class="form-control" id="name" name="name" required>
    </div>
    <div class="form-group">
      <label for="balance">Initial Balance</label>
      <input type="number" class="form-control" id="balance" name="balance" required>
    </div>
    <div class="form-group" align="center">
      <button type="submit" class="btn btn-success">Create</button>
      <button type="button" class="btn btn-secondary" onclick="document.getElementById('accountModal').close()">Cancel</button>
    </div>
  </form>
</dialog>

{% endblock %}
